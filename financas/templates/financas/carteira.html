{% extends 'base.html' %}
{% load static %}

{% block title %}Minha Carteira{% endblock %} 

{% block content %}


  <h1 class="text-3xl sm:text-4xl md:text-5xl font-semibold mb-8 text-gray-300 animate-slide-fade delay-1 text-center md:text-left">
    Minha Carteira
  </h1>

  <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-10 relative">

    <div class="card rounded-4xl animate-slide-fade delay-2 relative z-10">
      <div class="bg-gradient-to-l from-[#23b785]/25 via-transparent to-transparent rounded-[3rem] p-10 sm:p-8 border border-emerald-900/100 ">
        
        <div class="flex justify-between items-center mb-3 relative p-4">
          <h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/30 bg-clip-text text-transparent text-gray-300 mb-2">
            Saldo
          </h2>

          <div class="relative">
            <button id="dropdownSaldoBtn" class="text-gray-400 text-sm flex items-center gap-1 cursor-pointer">
              <span id="selectedPeriodoSaldo">Este mês</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>

            <div id="dropdownSaldo" class="hidden absolute right-0 mt-2 bg-[#0d1a15] rounded-md shadow-lg border border-[#1f5b46] z-50 min-w-[160px]">
              <button class="block px-4 py-2 w-full text-left hover:bg-[#123124]" data-value="Este mês">Este mês</button>
              <button class="block px-4 py-2 w-full text-left hover:bg-[#123124]" data-value="Último mês">Último mês</button>
              <button class="block px-4 py-2 w-full text-left hover:bg-[#123124]" data-value="Últimos 3 meses">Últimos 3 meses</button>
            </div>
          </div>
        </div>

        <p class="text-3xl sm:text-4xl md:text-5xl font-bold text-emerald-400 mb-2" id="saldoValor">
          R$16.550,00
        </p>
        <p class="text-emerald-400 text-xs sm:text-sm flex items-center gap-2">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
          <span id="saldoPorcentagem">14%</span>
          <span class="text-gray-400" id="saldoVariacao">+R$2.576,00 este mês</span>
        </p>
      </div>
    </div>
  
    <div class="card rounded-4xl animate-slide-fade delay-2 relative z-10">
      <div class="bg-gradient-to-l from-red-600/40 via-transparent to-transparent rounded-[3rem] p-10 sm:p-8 border border-red-600/100 shadow-lg transition-all duration-300 ease-in-out">
        
        <div class="flex justify-between items-center mb-3 relative p-4">
          <h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/30 bg-clip-text text-transparent text-gray-300 mb-2">
            Investimentos
          </h2>

          <div class="relative">
            <button id="dropdownInvestBtn" class="text-gray-400 text-sm flex items-center gap-1 cursor-pointer">
              <span id="selectedPeriodoInvest">Este mês</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>

            <div id="dropdownInvest" class="hidden absolute right-0 mt-2 bg-[#1a0f0f] rounded-md shadow-lg border border-[#5a1717] z-50 min-w-[160px]">
              <button class="block px-4 py-2 w-full text-left hover:bg-[#301010]" data-value="Este mês">Este mês</button>
              <button class="block px-4 py-2 w-full text-left hover:bg-[#301010]" data-value="Último mês">Último mês</button>
              <button class="block px-4 py-2 w-full text-left hover:bg-[#301010]" data-value="Últimos 3 meses">Últimos 3 meses</button>
            </div>
          </div>
        </div>

        <p class="text-3xl sm:text-4xl md:text-5xl font-bold text-red-600 mb-2 transition-colors duration-300 ease-in-out" id="investValor">R$177.650,00</p>
        <p class="text-red-600 text-xs sm:text-sm flex items-center gap-2 transition-colors duration-300 ease-in-out">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 rotate-180 transition-transform duration-300 ease-in-out" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6" />
          </svg>
          <span id="investPorcentagem">-7,5%</span>
          <span class="text-gray-400" id="investVariacao">neste mês</span>
        </p>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 animate-slide-fade delay-5 mb-12">
    
    <div class="bg-[#131917] rounded-[3rem] p-6 sm:p-8 border border-[#1c2a24] shadow-md text-left">
<h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/30 bg-clip-text text-transparent text-gray-300 mb-2">Ganhos</h2>
<p class="text-gray-400 mb-4 sm:mb-6">Registre aqui todas as suas entradas</p>

<div class="rounded-lg p-[2px] bg-gradient-to-r from-[#23b785]/25 to-[#23b785]/25 inline-block">
  <button id="btnGanhos" class="w-full rounded-lg bg-emerald-600 hover:bg-emerald-700 transition text-black px-4 sm:px-6 py-2 sm:py-3">
    Adicionar Ganhos
  </button>
</div>
</div>


    <div class="bg-[#131917] rounded-[3rem] p-6 sm:p-8 border border-[#1c2a24] shadow-md text-left">
<h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/30 bg-clip-text text-transparent text-gray-300 mb-2">Despesas</h2>
<p class="text-gray-400 mb-4 sm:mb-6">Registre aqui todas as suas despesas</p>

<div class="rounded-lg p-[2px] bg-gradient-to-r from-[#23b785]/25 to-[#23b785]/25 inline-block">
  <button id="btnDespesas" class="w-full rounded-lg bg-emerald-600 hover:bg-emerald-700 transition text-black px-4 sm:px-6 py-2 sm:py-3">
    Adicionar Despesas
  </button>
</div>
</div>

    <div class="bg-[#131917] rounded-[3rem] p-6 sm:p-8 border border-[#1c2a24] shadow-md text-left">
<h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/3D bg-clip-text text-transparent text-gray-300 mb-2">Investir</h2>
<p class="text-gray-400 mb-4 sm:mb-6">Registre aqui todos os seus investimentos</p>

<div class="rounded-lg p-[2px] bg-gradient-to-r from-[#23b785]/25 to-[#23b785]/25 inline-block">
  <button id="btnInvestir" class="w-full rounded-lg bg-emerald-600 hover:bg-emerald-700 transition text-black px-4 sm:px-6 py-2 sm:py-3">
    Adicionar Investimentos
  </button>
</div>
</div>


  </div>

  <div class="animate-slide-fade delay-4 mb-12 flex justify-center">
    <div class="bg-[#ffffff]/7 border border-[#1c2a24] rounded-3xl shadow-md p-6 w-full max-w-[1400px] flex flex-row items-center gap-8">
      <h2 class="text-xl sm:text-2xl mb-2 font-bold bg-gradient-to-r from-[#C0C0C0] to-[#C0C0C0]/30 bg-clip-text text-transparent text-gray-300 mb-2">
        Evolução da Carteira
      </h2>
      <div class="w-3/4 h-[300px]">
        <canvas id="graficoCarteira"></canvas>
      </div>
    </div>
  </div>

{% endblock %}


{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'financas/js/carteira.js' %}"></script>
{% endblock %}